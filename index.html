<!doctype html>
<html lang="tr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>Kur Çevirici • EUR • TRY • MKD</title>
  <meta name="theme-color" content="#0f172a" />
  <link rel="manifest" href="manifest.webmanifest">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <style>
    :root{
      --bg:#0f172a; --card:#111827; --text:#e5e7eb; --muted:#9ca3af; --accent:#22c55e; --danger:#ef4444; --stroke:#1f2937;
    }
    *{box-sizing:border-box;font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif}
    html,body{margin:0;height:100%;background:linear-gradient(180deg,#0b1222,#0f172a 40%,#0b1222)}
    .wrap{max-width:780px;margin:0 auto;padding:20px}
    header{display:flex;align-items:center;justify-content:space-between;color:var(--text);gap:12px}
    h1{font-size:18px;margin:0}
    .card{background:var(--card);border:1px solid var(--stroke);border-radius:16px;padding:16px;margin-top:12px;color:var(--text);box-shadow:0 10px 30px rgba(0,0,0,.35)}
    .row{display:grid;grid-template-columns:1fr 1fr;gap:12px}
    label{font-size:12px;color:var(--muted);display:block;margin-bottom:6px}
    input,select,button{
      width:100%;padding:12px 14px;border-radius:12px;border:1px solid #293241;background:#0b1222;color:var(--text);outline:none
    }
    input:focus,select:focus{border-color:#334155;box-shadow:0 0 0 3px rgba(51,65,85,.25)}
    button{cursor:pointer;background:var(--accent);border:none;font-weight:600;color:#052e1a}
    button.ghost{background:#0b1222;border:1px solid #243042;color:#e5e7eb}
    .notes{font-size:12px;color:var(--muted);margin-top:6px}
    .rate{font-size:12px;color:var(--muted)}
    .ok{color:var(--accent)} .err{color:var(--danger)}
    footer{color:#64748b;font-size:12px;text-align:center;margin-top:18px}
    .chips{display:flex;gap:8px;flex-wrap:wrap;margin-top:8px}
    .chip{padding:8px 10px;border-radius:10px;border:1px solid #263349;color:#cbd5e1;background:#0b1222;cursor:pointer}
    .hidden{display:none}
    .hint{font-size:11px;color:#94a3b8}

    /* — Büyük ve anlaşılır giriş/sonuç alanları — */
    .amountBig input{
      font-size:26px;font-weight:700;padding:14px 16px;border-radius:14px;
    }
    .resultBig{
      font-size:30px;font-weight:800;line-height:1.25;letter-spacing:.2px;
      padding:14px 16px;border-radius:14px;background:#0b1222;border:1px solid #243042;
      min-height:62px;display:flex;align-items:center
    }
    .resultBig .sub{font-size:14px;font-weight:600;opacity:.9;margin-left:8px}

    /* — Sabit kur özetlerini küçült — */
    .summaryGrid{display:grid;grid-template-columns:repeat(4,1fr);gap:10px}
    .summaryItem{background:#0b1222;border:1px solid #243042;border-radius:12px;padding:10px}
    .summaryItem .title{font-size:11px;color:#9aa5b1;margin-bottom:6px}
    .summaryItem .val{font-size:16px;font-weight:700}

    @media (max-width:640px){
      .summaryGrid{grid-template-columns:repeat(2,1fr)}
    }
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <h1>Kur Çevirici (EUR • TRY • MKD)</h1>
      <div style="display:flex; gap:8px">
        <button id="editRatesBtn" class="ghost" type="button" title="Kaydedilmiş kurları düzenle">Kurları Değiştir</button>
        <button id="resetRatesBtn" class="ghost" type="button" title="Kurları sıfırla ve yeniden ayarla">Sıfırla</button>
      </div>
    </header>

    <!-- KUR AYARI -->
    <div class="card" id="ratesCard">
      <h3 style="margin:0 0 8px 0">Kur Ayarları (Manuel)</h3>
      <p class="hint" style="margin-top:0">
        Aşağıdaki <strong>iki</strong> alanı doldurun. Uygulama otomatik olarak <strong>1 EUR = ? MKD</strong> değerini hesaplayıp gösterir.
        MKD = Kuzey Makedonya dinarıdır.
      </p>
      <div class="row">
        <div>
          <label>1 EUR kaç TRY?</label>
          <input id="eurTryInput" type="number" step="0.0001" inputmode="decimal" placeholder="ör. 36.5000">
        </div>
        <div>
          <label>1 MKD kaç TRY?</label>
          <input id="mkdTryInput" type="number" step="0.0001" inputmode="decimal" placeholder="ör. 0.6000">
        </div>
      </div>
      <div class="row" style="margin-top:10px;align-items:end">
        <div>
          <label>1 EUR kaç MKD? (otomatik)</label>
          <input id="eurMkdPreview" type="text" readonly placeholder="—">
        </div>
        <div>
          <button id="saveRatesBtn" type="button">Kaydet</button>
        </div>
      </div>
      <div class="notes" id="ratesStatus"></div>
    </div>

    <!-- ÇEVİRİCİ -->
    <div class="card hidden" id="converterCard">
      <div class="row" style="align-items:end">
        <div class="amountBig">
          <label>Tutar</label>
          <input id="amount" type="number" inputmode="decimal" step="0.01" min="0" placeholder="1.00" value="1">
        </div>
        <div>
          <label>Kaynak</label>
          <select id="from">
            <option value="EUR">EUR (€)</option>
            <option value="TRY">TRY (₺)</option>
            <option value="MKD">MKD (ден)</option>
          </select>
        </div>
      </div>

      <div style="margin:10px 0; display:flex; gap:8px; align-items:center">
        <button id="swap" class="ghost" type="button" title="Kaynak para birimini hızlı değiştir">⇄ Değiştir</button>
        <div class="rate" id="rateLine"></div>
      </div>

      <div class="resultBig" id="resultBox">
        <span id="resultMain">—</span>
        <span class="sub" id="resultSub"></span>
      </div>

      <div class="chips" id="quickChips">
        <div class="chip" data-from="EUR">EUR</div>
        <div class="chip" data-from="TRY">TRY</div>
        <div class="chip" data-from="MKD">MKD</div>
      </div>

      <div class="notes" id="statusLine"></div>
    </div>

    <!-- Küçük özet kutuları -->
    <div class="card hidden" id="summaryCard">
      <div class="summaryGrid">
        <div class="summaryItem">
          <div class="title">1 EUR =</div>
          <div class="val" id="s_eur_try">—</div>
          <div class="rate">TRY</div>
        </div>
        <div class="summaryItem">
          <div class="title">1 EUR =</div>
          <div class="val" id="s_eur_mkd">—</div>
          <div class="rate">MKD</div>
        </div>
        <div class="summaryItem">
          <div class="title">1 TRY =</div>
          <div class="val" id="s_try_eur">—</div>
          <div class="rate">EUR</div>
        </div>
        <div class="summaryItem">
          <div class="title">1 MKD =</div>
          <div class="val" id="s_mkd_try">—</div>
          <div class="rate">TRY</div>
        </div>
      </div>
    </div>

    <footer>
      Son güncelleme: <span id="updated">—</span> • İnternet bağlantısı gerekmez.
    </footer>
  </div>

  <!-- v parametresi SW/cache kırmak için -->
  <script src="app.js?v=3" defer></script>
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => navigator.serviceWorker.register('./sw.js'));
    }
  </script>
</body>
</html>
